System.register("chunks:///_virtual/FPSCounter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,s,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.gfx,u=e.Component}],execute:function(){var p,f,c,h,P,_;a._RF.push({},"74f44JdvmhGFq+DSUPY/lXT","FPSCounter",void 0);var d=o.ccclass,A=o.property,I=o.requireComponent;e("FPSCounter",(p=d("FPSCounter"),f=I(s),c=A({tooltip:"更新 FPS 显示的时间间隔（秒）"}),p(h=f((_=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"updateInterval",_,r(t)),t._label=null,t._frameCount=0,t._elapsedTime=0,t._fps=0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){this._label=this.getComponent(s)},a.update=function(e){if(this._frameCount++,this._elapsedTime+=e,this._elapsedTime>=this.updateInterval){if(this._fps=this._frameCount/this._elapsedTime,this._label){var t=l.deviceManager.gfxDevice;this._label.string="FPS: "+this._fps.toFixed(1)+"\nDC:"+t.numDrawCalls+"\nTRIS:"+t.numTris+"\nRENDER:"+(t.gfxAPI===l.API.WEBGL?"WebGL":t.gfxAPI===l.API.WEBGL2?"WebGL2":t.gfxAPI===l.API.GLES2?"GLES2":t.gfxAPI===l.API.GLES3?"GLES3":t.gfxAPI===l.API.VULKAN?"VULKAN":t.gfxAPI===l.API.METAL?"METAL":"UNKNOWN/NOMATCH")}this._frameCount=0,this._elapsedTime-=this.updateInterval}},t}(u)).prototype,"updateInterval",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),h=P))||h)||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./FPSCounter.ts","./UIMoveable.ts","./scene_test.ts","./SuperTrail.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/scene_test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SuperTrail.ts"],(function(t){var o,n,e,i,a,r,s,h,l,u,c,d,p,f;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,h=t.Label,l=t.v3,u=t.instantiate,c=t.Color,d=t.Component},function(t){p=t.SuperTrail,f=t.TrailCoordinateMode}],execute:function(){var g,m,v,_,M,T,y,b,C,E,w,R,D,U,S,P,x,O,z,H,Y,A,I;a._RF.push({},"dc32dH6AKlIY7oEol+DAjBQ","scene_test",void 0);var V=r.ccclass,L=r.property,N=function(t){return t[t.Random=0]="Random",t[t.UpDown=1]="UpDown",t}(N||{});t("scene_test",(g=V("scene_test"),m=L([s]),v=L({tooltip:"移动速度"}),_=L({tooltip:"转向平滑度（越大转向越快）"}),M=L({tooltip:"屏幕范围X"}),T=L({tooltip:"屏幕范围Y"}),y=L({tooltip:"上下移动幅度"}),b=L({tooltip:"上下移动周期（秒）"}),C=L(s),E=L(h),w=L(h),g((U=o((D=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return o=t.call.apply(t,[this].concat(a))||this,e(o,"nodes",U,i(o)),e(o,"moveSpeed",S,i(o)),e(o,"turnSmooth",P,i(o)),e(o,"rangeX",x,i(o)),e(o,"rangeY",O,i(o)),e(o,"upDownRange",z,i(o)),e(o,"upDownPeriod",H,i(o)),e(o,"node_root",Y,i(o)),e(o,"labelCounts",A,i(o)),e(o,"label_tips",I,i(o)),o._states=[],o._moveMode=N.UpDown,o._isRootRotating=!0,o._tempVec3=l(),o._minDistSq=2500,o}n(o,t);var a=o.prototype;return a._registerTouchEvents=function(){this.node.off(s.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(s.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(s.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(s.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.node.on(s.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(s.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(s.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},a._unregisterTouchEvents=function(){this.node.off(s.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(s.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(s.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(s.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},a._onTouchStart=function(t){},a._onTouchMove=function(t){},a._onTouchEnd=function(t){},a._onTouchCancel=function(t){},a.onEnable=function(){this._registerTouchEvents()},a.onDisable=function(){this._unregisterTouchEvents()},a.toggleTrailsMode=function(){this.nodes.forEach((function(t,o){var n=t.getComponent(p);if(n){var e=n.coordinateMode;n.coordinateMode=e===f.World?f.Local:f.World}}))},a.toggleRootRotation=function(){this._isRootRotating=!this._isRootRotating,this.label_tips&&(this.label_tips.string="根节点旋转: "+(this._isRootRotating?"开启":"关闭"))},a.toggleMoveMode=function(){if(this._moveMode=this._moveMode===N.Random?N.UpDown:N.Random,this._moveMode===N.UpDown)for(var t=0;t<this.nodes.length;t++){var o=this.nodes[t];if(o&&o.isValid){var n=this._states[t];n.originY=o.position.y,n.phase=Math.random()*Math.PI*2}}this.label_tips.string="移动模式切换为: "+(this._moveMode===N.Random?"随机移动":"上下循环")},a.start=function(){for(var t=this.nodes.length,o=0;o<t;o++){var n=this.nodes[o],e={targetPos:l((2*Math.random()-1)*this.rangeX,(2*Math.random()-1)*this.rangeY,0),velocity:l(0,0,0),changeTimer:0,changeInterval:Math.random()+.5,originY:n.position.y,phase:Math.random()*Math.PI*2};this._states.push(e)}},a.pauseAllTrails=function(){this.nodes.forEach((function(t){var o=t.getComponent(p);o&&o.pause()}))},a.resumeAllTrails=function(){this.nodes.forEach((function(t){var o=t.getComponent(p);o&&o.resume()}))},a.addTrails=function(){if(0!==this.nodes.length){var t=this.nodes[Math.floor(Math.random()*this.nodes.length)];if(t&&t.isValid){for(var o=0;o<100;o++){var n=u(t);if(n){n.parent=t.parent;var e=(2*Math.random()-1)*this.rangeX,i=(2*Math.random()-1)*this.rangeY;n.setPosition(e,i,0),this.nodes.push(n);var a={targetPos:l((2*Math.random()-1)*this.rangeX,(2*Math.random()-1)*this.rangeY,0),velocity:l(0,0,0),changeTimer:0,changeInterval:Math.random()+.5,originY:i,phase:Math.random()*Math.PI*2};this._states.push(a);var r=n.getComponent(p);r&&(r.headColor=new c(Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random()),255),r.tailColor=new c(Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random()),255),r.maxPoints=20+Math.floor(20*Math.random()),r.tailWidth=20+16*Math.random())}}console.log("添加了 100 个拖尾，当前总数: "+this.nodes.length)}}},a.removeTrails=function(){for(var t=Math.min(100,this.nodes.length-1),o=0;o<t;o++){var n=this.nodes.pop();this._states.pop(),n&&n.isValid&&n.destroy()}console.log("移除了 "+t+" 个拖尾，当前总数: "+this.nodes.length)},a.lateUpdate=function(t){this.labelCounts.string="拖尾数量: "+this.nodes.length},a.update=function(t){this.node_root&&this._isRootRotating&&(this.node_root.angle+=90*t);for(var o=this.nodes,n=this._states,e=o.length,i=this.moveSpeed,a=this.turnSmooth,r=this.rangeX,s=this.rangeY,h=this._minDistSq,l=0;l<e;l++){var u=o[l];if(u&&u.isValid){var c=n[l],d=u.position;if(!c.isManualControl)if(this._moveMode===N.UpDown){var p,f;c.phase=(null!=(p=c.phase)?p:0)+2*Math.PI/this.upDownPeriod*t;var g=(null!=(f=c.originY)?f:d.y)+Math.sin(c.phase)*this.upDownRange;u.setPosition(d.x,g,d.z)}else{var m=c.targetPos,v=c.velocity;c.changeTimer+=t;var _=m.x-d.x,M=m.y-d.y;(_*_+M*M<h||c.changeTimer>=c.changeInterval)&&(m.x=(2*Math.random()-1)*r,m.y=(2*Math.random()-1)*s,c.changeTimer=0,c.changeInterval=Math.random()+.5);var T=m.x-d.x,y=m.y-d.y,b=Math.sqrt(T*T+y*y)||1,C=T/b*i,E=y/b*i,w=Math.min(1,a*t);v.x+=(C-v.x)*w,v.y+=(E-v.y)*w;var R=d.x+v.x*t,D=d.y+v.y*t;(R<-r||R>r)&&(R=R<-r?-r:r,v.x*=-.5,m.x=(2*Math.random()-1)*r,m.y=(2*Math.random()-1)*s),(D<-s||D>s)&&(D=D<-s?-s:s,v.y*=-.5,m.x=(2*Math.random()-1)*r,m.y=(2*Math.random()-1)*s),u.setPosition(R,D,d.z)}}}},o}(d)).prototype,"nodes",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=o(D.prototype,"moveSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),P=o(D.prototype,"turnSmooth",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),x=o(D.prototype,"rangeX",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),O=o(D.prototype,"rangeY",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 800}}),z=o(D.prototype,"upDownRange",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),H=o(D.prototype,"upDownPeriod",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Y=o(D.prototype,"node_root",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=o(D.prototype,"labelCounts",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=o(D.prototype,"label_tips",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=D))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/SuperTrail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(t){var i,e,s,n,o,r,a,h,l,u,p,_,d,c,m,v,f,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,a=t._decorator,h=t.SpriteFrame,l=t.Enum,u=t.CCInteger,p=t.CCFloat,_=t.Mat4,d=t.Vec3,c=t.DynamicAtlasManager,m=t.v3,v=t.UIRenderer,f=t.Color},function(t){g=t.JSB}],execute:function(){var y,b,P,x,D,M,C,w,A,W,F,N,S,k,z,H,I,L,T,V,R,B,U,j,q,J,O,E,G,Z;r._RF.push({},"443d9JuFCxBGI03SuHBsZqm","SuperTrail",void 0);var K=a.ccclass,Q=a.property,X=a.menu,Y=a.help,$=a.executeInEditMode,tt=new ArrayBuffer(4),it=new Float32Array(tt),et=new Int32Array(tt);function st(t){var i=.5*t;it[0]=t,et[0]=1597463007-(et[0]>>1);var e=it[0];return e*=1.5-i*e*e}var nt=t("TrailCoordinateMode",function(t){return t[t.World=0]="World",t[t.Local=1]="Local",t}({})),ot=t("SuperTrail",(y=X("SuperTrail"),b=Y("https://github.com/soidaken/SuperTrail"),P=Q(h),x=Q({type:h,tooltip:"拖尾纹理",displayName:"纹理文件"}),D=Q({type:l(nt),tooltip:"坐标模式：<br>World - 世界坐标，不受父节点旋转/缩放影响，性能更好<br>Local - 局部坐标，正确响应父节点变换",displayName:"坐标模式"}),M=Q({tooltip:"是否使用快速平方根计算（fastInvSqrt），提高性能(1000个拖尾10%提升),精度低一点但视觉效果基本不变",displayName:"是否使用快速平方根"}),C=Q({type:u,min:4,tooltip:"最多保留多少个采样点,和采样距离共同决定拖尾的长度",displayName:"最大采样点数"}),w=Q({type:p,min:.1,tooltip:"两次采样点的最小距离,和最大采样点数共同决定拖尾的长度",displayName:"最小采样距离"}),A=Q({type:p,min:0,tooltip:"头部宽度（最新点）",displayName:"头部宽度"}),W=Q({type:p,min:0,tooltip:"尾部宽度（最旧点）",displayName:"尾部宽度"}),F=Q({type:u,min:0,max:255,tooltip:"头部透明度（最新点）",displayName:"头部透明度"}),N=Q({type:u,min:0,max:255,tooltip:"尾部透明度（最旧点）",displayName:"尾部透明度"}),S=Q({type:p,min:0,tooltip:"停止移动后拖尾完全消失所需时间（秒），0表示不自动衰减",displayName:"衰减时间"}),k=Q({tooltip:"头部颜色（最新点）",displayName:"头部颜色"}),z=Q({tooltip:"尾部颜色（最旧点）",displayName:"尾部颜色"}),K(H=y(H=$(H=b(((Z=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._uvMin=0,i._uvMax=1,i._vMin=0,i._vMax=1,i._uvAreaH=1,i._uvDirty=!0,s(i,"_spriteFrame",L,n(i)),s(i,"coordinateMode",T,n(i)),s(i,"useFastSqrt",V,n(i)),s(i,"maxPoints",R,n(i)),s(i,"minDistance",B,n(i)),s(i,"headWidth",U,n(i)),s(i,"tailWidth",j,n(i)),s(i,"headAlpha",q,n(i)),s(i,"tailAlpha",J,n(i)),s(i,"fadeTime",O,n(i)),s(i,"headColor",E,n(i)),s(i,"tailColor",G,n(i)),i._paused=!1,i._positions=[],i._uvs=[],i._indices=[],i._alphas=[],i._colors=[],i._hasNewPoint=!1,i._fadeAccum=0,i._pointPool=[],i._pointHead=0,i._pointCount=0,i._jsbWorld_lastMat=new _,i._jsbWorld_hasLastMat=!1,i.currentWorldPos=new d,i._tempVec3=new d,i._inverseParentMatrix=new _,i}e(i,t);var r=i.prototype;return r.__preload=function(){t.prototype.__preload.call(this)},r.onLoad=function(){t.prototype.onLoad.call(this),this._initPointPool(),this._spriteFrame&&c.instance.packToDynamicAtlas(this,this._spriteFrame)},r._initPointPool=function(){for(var t=this.maxPoints;this._pointPool.length<t;)this._pointPool.push(m());this._pointHead=0,this._pointCount=0},r._addPoint=function(t,i,e){if(this._pointCount<this.maxPoints){var s=(this._pointHead+this._pointCount)%this.maxPoints;this._pointPool[s].set(t,i,e),this._pointCount++}else this._pointPool[this._pointHead].set(t,i,e),this._pointHead=(this._pointHead+1)%this.maxPoints},r._removeOldestPoint=function(){this._pointCount>0&&(this._pointHead=(this._pointHead+1)%this.maxPoints,this._pointCount--)},r._getPoint=function(t){var i=(this._pointHead+t)%this.maxPoints;return this._pointPool[i]},r._getLastPoint=function(){if(0===this._pointCount)return null;var t=(this._pointHead+this._pointCount-1)%this.maxPoints;return this._pointPool[t]},r.onEnable=function(){t.prototype.onEnable.call(this),this._pointHead=0,this._pointCount=0,this._fadeAccum=0,this._hasNewPoint=!1,this._positions.length=0,this._uvs.length=0,this._indices.length=0,this._alphas.length=0,this._colors.length=0,this._pointPool.length<this.maxPoints&&this._initPointPool(),this._flushAssembler(),this.markForUpdateRenderData(),this._jsbWorld_hasLastMat=!1},r.onDisable=function(){t.prototype.onDisable.call(this),this._pointHead=0,this._pointCount=0,this._fadeAccum=0,this._hasNewPoint=!1,this._positions.length=0,this._uvs.length=0,this._indices.length=0,this._alphas.length=0,this._colors.length=0,this.renderData&&this.destroyRenderData(),this._jsbWorld_hasLastMat=!1},r.update=function(t){var i;if(null!=(i=this._spriteFrame)&&i.texture){if(this._pointPool.length<this.maxPoints&&this._initPointPool(),this._paused)this.node.getWorldPosition(this.currentWorldPos),this._hasNewPoint=!1;else{var e,s,n,o=this.node.getWorldPosition(this.currentWorldPos);this.coordinateMode===nt.Local&&this.node.parent?(_.invert(this._inverseParentMatrix,this.node.parent.worldMatrix),d.transformMat4(this._tempVec3,o,this._inverseParentMatrix),e=this._tempVec3.x,s=this._tempVec3.y,n=this._tempVec3.z):(e=o.x,s=o.y,n=o.z);var r=this._getLastPoint();if(this._hasNewPoint=!1,r){var a=e-r.x,h=s-r.y;a*a+h*h>=this.minDistance*this.minDistance&&(this._addPoint(e,s,n),this._hasNewPoint=!0)}else this._addPoint(e,s,n),this._hasNewPoint=!0}var l=!1;if(!this._hasNewPoint&&this.fadeTime>0&&this._pointCount>0){var u=this._pointCount/this.fadeTime;this._fadeAccum+=u*t;var p=Math.floor(this._fadeAccum);if(p>0){this._fadeAccum-=p;for(var c=0;c<p&&this._pointCount>0;c++)this._removeOldestPoint();l=!0}}else this._fadeAccum=0;this._hasNewPoint&&(l=!0),this._pointCount>=2?this._calculateVerticesAndUVIndices():(this._positions.length=0,this._uvs.length=0,this._indices.length=0,this._alphas.length=0,this._colors.length=0,l=!0),l&&(this.renderData&&(this.renderData.vertDirty=!0),this.markForUpdateRenderData())}},r.clear=function(){this._pointHead=0,this._pointCount=0,this._fadeAccum=0,this._hasNewPoint=!1,this._positions.length=0,this._uvs.length=0,this._indices.length=0,this._alphas.length=0,this._colors.length=0,this.renderData&&(this.renderData.vertDirty=!0),this.markForUpdateRenderData(),this._jsbWorld_hasLastMat=!1},r.pause=function(){this._paused=!0},r.resume=function(){this._paused=!1},r.isPaused=function(){return this._paused},r._calculateVerticesAndUVIndices=function(){var t=this._pointCount;if(t<2)return this._positions.length=0,this._uvs.length=0,this._indices.length=0,this._alphas.length=0,void(this._colors.length=0);var i=this._spriteFrame;if(i){if(this._uvDirty){var e=i.uv;this._uvMin=e[0],this._uvMax=e[0],this._vMin=e[1],this._vMax=e[1];for(var s=0;s<8;s+=2){var n=e[s],o=e[s+1];n<this._uvMin&&(this._uvMin=n),n>this._uvMax&&(this._uvMax=n),o<this._vMin&&(this._vMin=o),o>this._vMax&&(this._vMax=o)}this._uvAreaH=this._vMax-this._vMin,this._uvDirty=!1}var r=this.tailAlpha/255,a=this.headAlpha/255,h=this.tailColor.r/255,l=this.tailColor.g/255,u=this.tailColor.b/255,p=this.headColor.r/255,_=this.headColor.g/255,d=this.headColor.b/255,c=2*t,m=3*c,v=2*c,f=3*c;this._positions.length=m,this._uvs.length=v,this._alphas.length=c,this._colors.length=f;for(var g=0,y=0,b=0,P=0,x=0;x<t;x++){var D=this._getPoint(x),M=this._getPoint(x>0?x-1:x),C=this._getPoint(x<t-1?x+1:x),w=C.x-M.x,A=C.y-M.y,W=w*w+A*A;if(this.useFastSqrt){if(W>1e-4){var F=st(W);w*=F,A*=F}}else{var N=W>1e-4?Math.sqrt(W):1;w/=N,A/=N}var S=-A,k=w,z=x/(t-1),H=.5*(this.tailWidth+(this.headWidth-this.tailWidth)*z),I=r+(a-r)*z,L=h+(p-h)*z,T=l+(_-l)*z,V=u+(d-u)*z,R=D.x+S*H,B=D.y+k*H,U=D.x-S*H,j=D.y-k*H;this._positions[g++]=R,this._positions[g++]=B,this._positions[g++]=0,this._positions[g++]=U,this._positions[g++]=j,this._positions[g++]=0;var q=this._vMin+this._uvAreaH*(1-z);this._uvs[y++]=this._uvMin,this._uvs[y++]=q,this._uvs[y++]=this._uvMax,this._uvs[y++]=q,this._alphas[b++]=I,this._alphas[b++]=I,this._colors[P++]=L,this._colors[P++]=T,this._colors[P++]=V,this._colors[P++]=L,this._colors[P++]=T,this._colors[P++]=V}var J=6*(t-1);this._indices.length=J;for(var O=0,E=0;E<t-1;E++){var G=2*E,Z=G,K=G+1,Q=G+2,X=G+3;this._indices[O++]=Z,this._indices[O++]=K,this._indices[O++]=Q,this._indices[O++]=Q,this._indices[O++]=K,this._indices[O++]=X}}},r._canRender=function(){return!!t.prototype._canRender.call(this)&&(!(!this._spriteFrame||!this._spriteFrame.texture)&&this._pointCount>=2)},r._render=function(t){t.commitComp(this,this.renderData,this._spriteFrame,this._assembler,null)},r._flushAssembler=function(){var t=i.Assembler.getAssembler(this);this._assembler!==t&&(this.destroyRenderData(),this._assembler=t),this.renderData||this._assembler&&this._assembler.createData&&(this._renderData=this._assembler.createData(this),this.renderData.material=this.material,this._updateColor())},o(i,[{key:"spriteFrame",get:function(){return this._spriteFrame},set:function(t){this._spriteFrame!==t&&(this._spriteFrame=t,this.renderData&&(this.renderData.textureDirty=!0),this._spriteFrame&&c.instance.packToDynamicAtlas(this,this._spriteFrame),this._uvDirty=!0,this.markForUpdateRenderData())}},{key:"positions",get:function(){return this._positions}},{key:"uvs",get:function(){return this._uvs}},{key:"indices",get:function(){return this._indices}},{key:"alphas",get:function(){return this._alphas}},{key:"colors",get:function(){return this._colors}}]),i}(v)).Assembler=void 0,L=i((I=Z).prototype,"_spriteFrame",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i(I.prototype,"spriteFrame",[x],Object.getOwnPropertyDescriptor(I.prototype,"spriteFrame"),I.prototype),T=i(I.prototype,"coordinateMode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nt.World}}),V=i(I.prototype,"useFastSqrt",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=i(I.prototype,"maxPoints",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),B=i(I.prototype,"minDistance",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),U=i(I.prototype,"headWidth",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 32}}),j=i(I.prototype,"tailWidth",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=i(I.prototype,"headAlpha",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 255}}),J=i(I.prototype,"tailAlpha",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=i(I.prototype,"fadeTime",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),E=i(I.prototype,"headColor",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(255,255,255,255)}}),G=i(I.prototype,"tailColor",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(255,255,255,255)}}),H=I))||H)||H)||H)||H)),rt=new(function(){function t(){this._tmpInvNodeWorld=new _}var i=t.prototype;return i.createData=function(t){var i=t.requestRenderData();return i.dataLength=4,i.resize(4,6),i},i._isJSBWorld=function(t){return g},i._ensureInvNodeWorld=function(t){return null==t.node.updateWorldTransform||t.node.updateWorldTransform(),_.invert(this._tmpInvNodeWorld,t.node.worldMatrix),this._tmpInvNodeWorld},i.updateRenderData=function(t){var i;if(t&&null!=(i=t.spriteFrame)&&i.texture){var e=t.renderData;if(e){var s=t.positions.length/3,n=t.indices.length;if(0!==s&&0!==n){e.dataLength!==s&&(e.dataLength=s);for(var o=e.data,r=this._isJSBWorld(t)?this._ensureInvNodeWorld(t):null,a=0;a<s;++a){var h=o[a],l=t.positions[3*a],u=t.positions[3*a+1];if(r){var p=r.m03*l+r.m07*u+r.m15;p=p?1/p:1,h.x=(r.m00*l+r.m04*u+r.m12)*p,h.y=(r.m01*l+r.m05*u+r.m13)*p}else h.x=l,h.y=u}e.vertexCount===s&&e.indexCount===n||e.resize(s,n),e.updateRenderData(t,t.spriteFrame),e.vertDirty=!1}else e.vertDirty=!1}}},i.fillBuffers=function(t,i){if(t&&t.renderData){var e=t.positions.length/3,s=t.indices.length;0!==e&&0!==s&&(this._updateVertexsAndUV(t),this._updateIndices(t))}},i._updateIndices=function(t){var i=t.renderData;if(i){for(var e=i.chunk,s=e.vertexOffset,n=e.meshBuffer,o=n.iData,r=n.indexOffset,a=t.indices,h=0;h<a.length;++h)o[r++]=s+a[h];n.indexOffset+=a.length}},i._updateVertexsAndUV=function(t){var i=t.renderData;if(i){var e=t.positions.length/3,s=3*e,n=2*e,o=3*e,r=e;if(t.positions.length===s&&t.uvs.length===n&&t.colors.length===o&&t.alphas.length===r){var a=i.chunk.vb,h=i.floatStride;if(t.coordinateMode===nt.Local&&t.node.parent)for(var l=t.node.parent.worldMatrix,u=0;u<e;++u){var p=3*u,_=2*u,d=3*u,c=t.positions[p],m=t.positions[p+1],v=l.m03*c+l.m07*m+l.m15;v=v?1/v:1;var f=u*h;a[f+0]=(l.m00*c+l.m04*m+l.m12)*v,a[f+1]=(l.m01*c+l.m05*m+l.m13)*v,a[f+2]=(l.m02*c+l.m06*m+l.m14)*v,a[f+3]=t.uvs[_],a[f+4]=t.uvs[_+1],a[f+5]=t.colors[d],a[f+6]=t.colors[d+1],a[f+7]=t.colors[d+2],a[f+8]=t.alphas[u]}else for(var g=this._isJSBWorld(t)?this._ensureInvNodeWorld(t):null,y=0;y<e;++y){var b=3*y,P=2*y,x=3*y,D=t.positions[b],M=t.positions[b+1],C=t.positions[b+2],w=D,A=M,W=C;if(g){var F=g.m03*D+g.m07*M+g.m11*C+g.m15;F=F?1/F:1,w=(g.m00*D+g.m04*M+g.m08*C+g.m12)*F,A=(g.m01*D+g.m05*M+g.m09*C+g.m13)*F,W=(g.m02*D+g.m06*M+g.m10*C+g.m14)*F}var N=y*h;a[N+0]=w,a[N+1]=A,a[N+2]=W,a[N+3]=t.uvs[P],a[N+4]=t.uvs[P+1],a[N+5]=t.colors[x],a[N+6]=t.colors[x+1],a[N+7]=t.colors[x+2],a[N+8]=t.alphas[y]}}}},i._updateJustUV=function(t){var i=t.renderData;if(i){var e=t.positions.length/3,s=2*e,n=3*e,o=e;if(t.uvs.length===s&&t.colors.length===n&&t.alphas.length===o)for(var r=i.chunk.vb,a=i.floatStride,h=this._isJSBWorld(t)?this._ensureInvNodeWorld(t):null,l=0;l<e;++l){var u=l*a,p=2*l,_=3*l;if(h){var d=t.positions[3*l],c=t.positions[3*l+1],m=t.positions[3*l+2],v=h.m03*d+h.m07*c+h.m11*m+h.m15;v=v?1/v:1,r[u+0]=(h.m00*d+h.m04*c+h.m08*m+h.m12)*v,r[u+1]=(h.m01*d+h.m05*c+h.m09*m+h.m13)*v,r[u+2]=(h.m02*d+h.m06*c+h.m10*m+h.m14)*v}r[u+3]=t.uvs[p],r[u+4]=t.uvs[p+1],r[u+5]=t.colors[_],r[u+6]=t.colors[_+1],r[u+7]=t.colors[_+2],r[u+8]=t.alphas[l]}}},i.updateColor=function(t){var i=t.renderData;if(i){var e=t.positions.length/3;if(0!==e){var s=3*e,n=e;if(t.colors.length===s&&t.alphas.length===n)for(var o=i.chunk.vb,r=i.floatStride,a=0;a<e;++a){var h=a*r,l=3*a;o[h+5]=t.colors[l],o[h+6]=t.colors[l+1],o[h+7]=t.colors[l+2],o[h+8]=t.alphas[a]}}}},t}()),at={getAssembler:function(t){return rt}};ot.Assembler=at,r._RF.pop()}}}));

System.register("chunks:///_virtual/UIMoveable.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o,i,c,s,h;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.Input,c=n.Vec3,s=n.Node,h=n.Component}],execute:function(){var d;e._RF.push({},"af7825wcm1AEZC+Ah6YxjyI","UIMoveable",void 0);var a=o.ccclass;o.property,n("default",a("UIMoveable")(d=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this)._cbStarted=null,t._cbMoved=null,t._cbEnded=null,t._cbCanceled=null,t._tmpVec3=new c,t}t(e,n);var o=e.prototype;return o.onEnable=function(){this.node.on(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(i.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(i.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},o.onDisable=function(){this.node.off(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(i.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(i.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},o.onTouchStart=function(n){this._cbStarted&&this._cbStarted(this,n)},o.onTouchMove=function(n){var t=n.getUIDelta();this.node.getPosition(this._tmpVec3),this._tmpVec3.x+=t.x,this._tmpVec3.y+=t.y,this.node.setPosition(this._tmpVec3.x,this._tmpVec3.y,0),this._cbMoved&&this._cbMoved(this,n)},o.onTouchEnd=function(n){this._cbEnded&&this._cbEnded(this,n)},o.onTouchCancel=function(n){this._cbCanceled&&this._cbCanceled(this,n)},o.onStarted=function(n){this._cbStarted&&(this._cbStarted=null),this._cbStarted=n},o.onMoved=function(n){this._cbMoved&&(this._cbMoved=null),this._cbMoved=n},o.onEnded=function(n){this._cbEnded&&(this._cbEnded=null),this._cbEnded=n},o.onCanceled=function(n){this._cbCanceled&&(this._cbCanceled=null),this._cbCanceled=n},e.onStarted=function(n,t){if(n instanceof e)n.onStarted(t);else if(n instanceof s){var o=n.getComponent(e);o&&o.onStarted(t)}},e.onMoved=function(n,t){if(n instanceof e)n.onMoved(t);else if(n instanceof s){var o=n.getComponent(e);o&&o.onMoved(t)}},e.onEnded=function(n,t){if(n instanceof e)n.onEnded(t);else if(n instanceof s){var o=n.getComponent(e);o&&o.onEnded(t)}},e.onCanceled=function(n,t){if(n instanceof e)n.onCanceled(t);else if(n instanceof s){var o=n.getComponent(e);o&&o.onCanceled(t)}},e}(h))||d);e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});